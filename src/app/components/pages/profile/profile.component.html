<app-loader *ngIf="!profile"></app-loader>

<div class="profile-page" *ngIf="profile">
  <h1 class="profile-page__title">
    {{ 'profile.welcome' | translate }} {{ profile.first_name }},
  </h1>
  <div class="profile-page__second-title">
    {{ 'profile.sub-title' | translate }}: #{{profile.id}}
  </div>

  <div class="profile-page__content">
    <div class="profile-page__content__left">
      <div class="profile-page__content__left__edit">
        <app-profile-edit></app-profile-edit>
      </div>

      <div class="profile-page__content__left__subscription">
        <app-profile-subscription></app-profile-subscription>
      </div>

      <div class="profile-page__content__left__coupons">
        <app-profile-coupons></app-profile-coupons>
      </div>

      <div class="profile-page__content__left__cards">
        <app-profile-cards></app-profile-cards>
      </div>

      <div class="profile-page__content__left__account">
        <app-profile-deactivate></app-profile-deactivate>
      </div>


    </div>
    <div class="profile-page__content__right">
      <div class="profile-page__content__right__top">
        <app-profile-stats></app-profile-stats>
      </div>

      <div class="profile-page__content__right__stats">
        <app-profile-tomatoes [totalPastTomatoes]="getTotalPastTomatoes()" [totalFutureTomatoes]="getTotalFutureTomatoes()"></app-profile-tomatoes>
      </div>

      <div class="profile-page__content__right__timeslots">
        <app-profile-timeslots (totalPastTomatoes)="totalPastTimeslotTomatoes = $event" (totalFutureTomatoes)="totalFutureTimeslotTomatoes = $event"></app-profile-timeslots>
      </div>

      <div class="profile-page__content__right__retreats">
        <app-profile-retreats (totalPastTomatoes)="totalPastRetreatTomatoes = $event" (totalFutureTomatoes)="totalFutureRetreatTomatoes = $event"></app-profile-retreats>
      </div>
    </div>
  </div>
</div>

