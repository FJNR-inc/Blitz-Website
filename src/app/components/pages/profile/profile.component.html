<div class="profile-page" *ngIf="profile">
  <div class="profile-page__header">
    <div class="profile-page__header__informations">
      <div class="profile-page__header__informations__name">
        {{profile.first_name}} {{profile.last_name}}
        <a class="profile-page__header__informations__name__edit button">
          <i class="fas fa-pencil-alt"></i> Éditer mon profil
        </a>
      </div>
      <div class="profile-page__header__informations__email">
        <i class="fas fa-envelope"></i> {{profile.email}}
      </div>
      <div class="profile-page__header__informations__university" *ngIf="profile.university">
        {{profile.university.name}}<br/>
        {{ profile.academic_level.name }} ({{ profile.academic_field.name }})
      </div>
    </div>
    <div class="profile-page__header__right">
      <div class="profile-page__header__right__status">
        <div class="profile-page__header__right__status__main">
          {{profile.tickets || 0}}
        </div>
        ticket(s) disponible(s)
      </div>
      <div class="profile-page__header__right__status" *ngIf="profile.membership_end">
        <div class="profile-page__header__right__status__main">
          {{ profile.getTimeBeforeEndMembership() }}
        </div>
        jours restants<br/>
        ({{ profile.membership.name }})
      </div>
    </div>
  </div>
  <div class="profile-page__sections">
    <app-my-table [settings]="settings"
                  [data]="listReservations"
                  (addButton)="OpenModalCreateDomain()"
                  (editItem)="OpenModalEditDomain($event)"
                  (removeItem)="removeDomain($event)">
    </app-my-table>
  </div>
  <div class="profile-page__sections">
    <h2>Désactiver mon compte</h2>
    <div>
      Si vous désactivez votre compte:
      <ul>
        <li>vous ne pourrez plus vous connecter sur ce site</li>
        <li>toutes vos réservations seront annulées automatiquement</li>
        <li>certaines de vos informations personnelles pourraient être supprimées</li>
      </ul>
      <a class="button button--danger" [appMyModalOpen]="'form_deactivate_account'">
        <i class="fas fa-trash-alt"></i> Désactiver mon compte
      </a>
    </div>
  </div>
</div>

<app-my-modal name="form_deactivate_account"
              typeModal="danger"
              title="Désactiver mon compte"
              button2Label="Désactiver"
              (button2)="deactivateAccount()">
  La désactivation de votre compte est un acte important et irréversible.<br/>
  Êtes-vous vraiment sûr de vouloir désactiver votre compte ?
</app-my-modal>
