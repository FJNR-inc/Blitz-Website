<div class="retreat-reservation" *ngIf="!displayTutorial">
  <app-cart-button *ngIf="displayCartButton$ | async"
                   class="retreat-reservation__cart-button"
                   (onClick)="openCart()"></app-cart-button>
  <div class="retreat-reservation__main">
    <div class="retreat-reservation__main__content">
      <div class="retreat-reservation__main__content__header">
        <app-title [level]="4"
                   class="retreat-reservation__main__content__header__title"
                   text="{{ 'retreat-reservation.list_of_retreats' | translate }}">
        </app-title>
        <app-title [level]="9"
                   class="retreat-reservation__main__content__header__description"
                   text="{{ 'retreat-reservation.details' | translate }}">
        </app-title>
        <app-link class="retreat-reservation__main__content__header__link"
                  text="{{ 'retreat-reservation.know_more' | translate }}"
                  target="_blank"
                  href="http://www.thesez-vous.com/questcequuneretraite.html">
        </app-link>
      </div>
      <app-loader *ngIf="!retreats">
      </app-loader>
      <app-alert type="info"
                 class="retreat-reservation__main__content__header__alert"
                 [messages]="['retreat-reservation.retirement_available_purchase' | translate]"
                 *ngIf="retreats && retreats.length === 0"></app-alert>
      <app-retreat-preview *ngFor="let retreat of retreats"
                           class="retreat-reservation__main__content__retreat"
                           [retreat]="this.retreat"
                           [displaySubscribeButton]="true"
                           (subscribe)="selectRetreat(retreat)">
      </app-retreat-preview>

      <div class="retreat-reservation__main__content__politics">
        <app-title [level]="4" class="retreat-reservation__main__content__politics__title"
                   text="{{'retreat-reservation.cancellation_policy_title' | translate}}"></app-title>
        <app-title class="retreat-reservation__main__content__politics__content" [level]="9"
                   text="{{'retreat-reservation.cancellation_policy' | translate}}"></app-title>
      </div>
    </div>
  </div>
</div>
<app-retreat-tutorial *ngIf="displayTutorial" (close)="closeTutorial()"></app-retreat-tutorial>
