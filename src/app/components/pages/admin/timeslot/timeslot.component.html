<app-loader *ngIf="!timeslot"></app-loader>

<div class="admin-timeslot-page" *ngIf="timeslot">
  <div class="admin-timeslot-page__title">
    <h2 class="nt-title">{{'timeslot.redacion_bloc' | translate}} / #{{ timeslot.id }}</h2>
  </div>
  <div class="admin-timeslot-page__header">
    <div>
      <a class="ng-link" routerLink="/admin/workplaces/{{ timeslot.workplace.id }}">{{'timeslot.back_to_workspace' | translate}}</a>
    </div>
    <div class="admin-timeslot-page__header__date">
      <app-calendar-icon class="admin-timeslot-page__header__date__item" [date]="timeslot.start_time">
      </app-calendar-icon>
      <div class="admin-timeslot-page__header__date__item admin-timeslot-page__header__date__item--times">
        <div class="admin-timeslot-page__header__date__item--times__hours">
          {{timeslot.getStartTime()}}
        </div>
        <i class="fas fa-angle-double-down"></i>
        <div class="admin-timeslot-page__header__date__item--times__hours">
          {{timeslot.getEndTime()}}
        </div>
      </div>
    </div>
  </div>
  <div class="admin-timeslot-page__table">
    <app-my-table [settings]="settings"
                  [data]="listReservations"
                  (selectItem)="goToUser($event)"
                  (editItem)="editReservation($event)">
    </app-my-table>
  </div>
</div>

<app-nt-modal name="reservation_edition"
              typeModal="boolean"
              maxWidth="600px"
              title="{{'timeslot.modal_reservation_edition_title' | translate}}"
              (button1)="submitReservation(true)"
              (button2)="submitReservation(false)">

  <p *ngIf="selectedReservation">
    {{'timeslot.selected_reservation' | translate: ({first_name:selectedReservation.first_name, last_name:selectedReservation.last_name})}}
  </p>
</app-nt-modal>

