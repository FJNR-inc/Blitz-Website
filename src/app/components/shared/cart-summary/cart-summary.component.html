<div class="cart-summary">
  <div class="cart-summary__title">
    Panier
  </div>
  <div class="cart-summary__items">
    <div *ngFor="let membership of cart.getMemberships()" class="cart-summary__items__item">
      <div class="cart-summary__items__item__left">
        <div class="cart-summary__items__item__left__name">
          {{membership.name}}
        </div>
        <div class="cart-summary__items__item__left__price">
          {{membership.price}} $CAN
        </div>
      </div>
      <div class="cart-summary__items__item__right">
        <div class="cart-summary__items__item__right__action">
          <img (click)="removeMembershipFromCart(membership)" class="cart-summary__items__item__right__action__icon" src="../../assets/images/icons/icon_exit.svg" alt="enlever du panier" />
        </div>
      </div>
    </div>

    <div *ngFor="let retreat of cart.getRetreats()" class="cart-summary__items__item">
      <div class="cart-summary__items__item__left">
        <div class="cart-summary__items__item__left__name">
          {{ retreat.name }}<br/>
          {{ retreat.getDateInterval() }}
        </div>
        <div class="cart-summary__items__item__left__price">
          {{retreat.price}} $CAN
        </div>
      </div>
      <div class="cart-summary__items__item__right">
        <div class="cart-summary__items__item__right__action">
          <a (click)="removeRetreatFromCart(retreat)">
            <img class="cart-summary__items__item__right__action__icon" src="../../assets/images/icons/icon_exit.svg" alt="enlever du panier" />
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="cart-summary__coupons" *ngIf="cart.getCoupons().length">
    <div *ngFor="let coupon of cart.getCoupons()" class="cart-summary__coupons__coupon" [ngClass]="{'cart-summary__coupons__coupon--disabled': isCouponDisabled(coupon)}">
      <div class="cart-summary__coupons__coupon__code">
        {{coupon.code}}
        <p *ngIf="getAppliedCoupon(coupon) && getAppliedCoupon(coupon).reason">
          {{ getAppliedCoupon(coupon).reason }}
        </p>
      </div>
      <div class="cart-summary__coupons__coupon__price">
        <span *ngIf="getAppliedCoupon(coupon) && !getAppliedCoupon(coupon).reason">
          {{ getAppliedCoupon(coupon)['value'] }} $CAN
        </span>
      </div>
      <div class="cart-summary__coupons__coupon__action">
        <img (click)="removeCouponFromCart(coupon)" class="cart-summary__coupons__coupon__action__icon" src="../../assets/images/icons/icon_exit.svg" alt="enlever du panier" />
      </div>
    </div>
  </div>
  <div class="cart-summary__taxes">
    <div class="cart-summary__taxes__line cart-summary__taxes__line--main">
      <div class="cart-summary__taxes__line__name">
        Sous-total
      </div>
      <div class="cart-summary__taxes__line__price">
        {{ cart.getSubTotal() }} $CAN
      </div>
    </div>
    <div class="cart-summary__taxes__line">
      <div class="cart-summary__taxes__line__name">
        TPS
      </div>
      <div class="cart-summary__taxes__line__price">
        {{ cart.getTPS() }} $CAN
      </div>
    </div>
    <div class="cart-summary__taxes__line">
      <div class="cart-summary__taxes__line__name">
        TVQ
      </div>
      <div class="cart-summary__taxes__line__price">
        {{ cart.getTVQ() }} $CAN
      </div>
    </div>
    <div class="cart-summary__taxes__line cart-summary__taxes__line--main">
      <div class="cart-summary__taxes__line__name">
        Total
      </div>
      <div class="cart-summary__taxes__line__price">
        {{ cart.getTotal() }} $CAN
      </div>
    </div>
  </div>
</div>
